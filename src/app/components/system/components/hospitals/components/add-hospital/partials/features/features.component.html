<div [formGroup]="form">
  <div class="row">
    <!-- <div class="row filter-border"> -->
      <div class="col-md-6 col-xxl-6 filter-border">
        <div class="form-group mb-3">
          <label for="example-search-input" class="text-base-color text-bold">اسم الميزة<span class="text-danger">*</span></label>
          <input type="text" formControlName="Name" class="form-control pr-3 my-2" >

          <mat-error>
            <div *ngIf="form.get('Name').hasError('required')&& form.get('Name').touched">
              من فضلك اختر العيادة
            </div>
          </mat-error>
        </div>
      </div>

    <div class="col-md-6 col-xxl-6 filter-border">
      <div class="form-group mb-3">
        <label for="example-search-input" class="text-base-color text-bold">التفاصيل<span class="text-danger">*</span></label>
        <textarea formControlName="description" class="form-control pr-3 my-2" row="3"></textarea>

        <mat-error>
          <div *ngIf="form.get('description').hasError('required')&& form.get('description').touched">
            من فضلك اختر اليوم
          </div>
        </mat-error>
      </div>
    </div>
    <div class="col-md-6 col-xxl-6 filter-border">
      <div class="form-group mb-3">
        <label for="example-search-input" class="text-base-color text-bold"> الصورة<span class="text-danger">*</span></label>
        <input type="file" formControlName="file" class="form-control pr-3 my-2" (change)="fileBrowseHandler($event.target.files)" >

        <mat-error>
          <div *ngIf="form.get('file').hasError('required')&& form.get('file').touched">
            من فضلك اختر الفترة
          </div>
        </mat-error>
      </div>
    </div>
      <div class="d-flex justify-content-center mt-4">
        <button type="button" class="btn btn-primary background-primary col-3"  [class.spinnerBtn]="loading" [disabled]="loading || !form.valid"  (click)="save()">
            <span>{{edit ? 'تعديل' : 'اضافة'}}</span>
        </button>
        <button type="button" class="btn btn-outline-primary col-3 me-2" (click)="cancel()">
          <span>الغاء</span>
        </button>
      </div>
  </div>

</div>
<div class="table-data my-3">
  <table mat-table [dataSource]="dataSource" matSort>

    <!-- ID Column -->
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> الرقم </th>
      <td mat-cell *matCellDef="let row"> {{row.id}} </td>
    </ng-container>

    <!-- Progress Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> اسم  </th>
      <td mat-cell *matCellDef="let row"> {{row?.hospitalFeatureTranslations[0].name}} </td>
    </ng-container>

    <ng-container matColumnDef = 'action'>
      <th mat-header-cell *matHeaderCellDef mat-sort-header> خيارات </th>
      <!-- Action Menu Items -->
      <td mat-cell *matCellDef="let row" (click)="$event.stopPropagation()">

      <button mat-icon-button [matMenuTriggerFor]="mainMenu">
        <i class="fa-solid fa-ellipsis-vertical"></i>
      </button>
      <mat-menu #mainMenu="matMenu">
        <button mat-menu-item (click)="rowAction('delete',row.id,row.hospitalId)">
          <i class="fa-solid fa-trash"></i> حذف
        </button>
        <button mat-menu-item (click)="rowAction('edit',row.id,row.hospitalId)">
          <i class="fa-solid fa-edit"></i> تعديل
        </button>
        <button mat-menu-item (click)="rowAction('translate',row.id,row.doctorId)">
          <i class="fa-solid fa-edit"></i> ترجمة
        </button>
      </mat-menu>
    </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row (click)="onClickPublisher(row.id)" *matRowDef="let row; columns: displayedColumns;"></tr>

  </table>
<!--
  <mat-paginator [length]="totalItems" [pageSize]="pageSize" [pageIndex]="pageIndex"
    [pageSizeOptions]="[5, 10, 25, 100]"  (page)="pageChanged($event)">
</mat-paginator> -->
</div>
